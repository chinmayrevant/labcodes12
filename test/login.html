<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>ENTER LOGIN CREDENTIALS</h1>
    <table border="1">
        <form method="POST" action="authenticate.php" id="myform">
            <tr><td>USERNAME</td><td><input type="text" name="username" id ="user" required></td></tr>
            <tr><td>PASSWORD</td><td><input type="password" name="password" id="pwd" required></td></tr>
            <td colspan="2"><button type="button" id="but1" style="text-align: center;display: flex; margin: auto;">LOGIN</button><a href='register.html'><button type="button" id="but2" style="text-align: center;display: flex; margin: auto;">REGISTER</button></a></td>
        </form>
    </table>
    <div id="errmsg"></div>
    <script>
        var form = document.getElementById("myform");
        var but1 = document.getElementById("but1");
        var user = document.getElementById("user").value;
        var msg = document.getElementById("errmsg");

        but1.addEventListener("click",function(){
            var user = document.getElementById("user").value;
            var pwd = document.getElementById("pwd").value;
            var msg = document.getElementById("errmsg");
            var re = /[^a-zA-Z0-9]/;
            if(re.test(user) || user===""){
                msg.textContent = "CONTAINS SPECIAL CHARACTERS OR FIELD LEFT EMPTY";
                msg.style.color= "red";
                setTimeout(() => {
                    msg.textContent="";
                }, 1000);
            }
            else{
                if(re.test(pwd) || pwd===""){
                    msg.textContent = "PWD FIELD CONTAINS SPECIAL CHARACTERS OR FIELD LEFT EMPTY";
                    msg.style.color= "red";
                    setTimeout(() => {
                        msg.textContent="";
                    }, 1000);
                }
                else{
                    if(user.length>=8 && pwd.length>=8){
                        document.getElementById("myform").submit();
                    }
                    else{
                        msg.textContent = "8 CHARACTERS OR MORE";
                        msg.style.color= "red";
                        setTimeout(() => {
                            msg.textContent="";
                        }, 1000);
                    }
                }
            }
        })

    </script>
</body>
</html>